<table [dataSource]="dataSource"
       [id]="idByTranslationPrefix"
       [matSortActive]="sortActive || ''"
       [matSortDirection]="sortDirection || 'asc'"
       mat-table
       matSort>
  <ng-container *ngFor="let dynamicColumn of displayedColumns; let idx = index"
                [matColumnDef]="dynamicColumn">
    <!-- HEADER -->
    <ng-container *ngIf="isSortable(dynamicColumn)">
      <th *matHeaderCellDef
          mat-header-cell
          mat-sort-header>
        {{getHeaderByColumnName(dynamicColumn)}}
      </th>
    </ng-container>
    <ng-container *ngIf="!isSortable(dynamicColumn)">
      <th *matHeaderCellDef
          mat-header-cell>
        {{getHeaderByColumnName(dynamicColumn)}}
      </th>
    </ng-container>

    <!-- DATA -->
    <ng-container *ngIf="isInjected(dynamicColumn)">
      <td *matCellDef="let data; let dataIdx = index" mat-cell>
        <ng-container
          *ngTemplateOutlet="getInjectedTemplateByColumnName(dynamicColumn); context: getViewContext(data, dataIdx)">
        </ng-container>
      </td>
    </ng-container>
    <ng-container *ngIf="!isInjected(dynamicColumn)">
      <td *matCellDef="let data" mat-cell>
        {{
        isSerializedDate(data[dynamicColumn]) || isMoment(data[dynamicColumn])
          ? (data[dynamicColumn] | date:'dd.MM.YYYY HH:mm')
          : data[dynamicColumn]
        }}
      </td>
    </ng-container>
  </ng-container>

  <tr *matHeaderRowDef="displayedColumns"
      mat-header-row>
  </tr>
  <tr *matRowDef="let row; columns: displayedColumns;"
      [class.highlighted]="highlightRow ? highlightRow(row) : false"
      mat-row>
  </tr>
  <ng-container *ngIf="renderNoDataRow">
    <tr *matNoDataRow class="mat-row">
      <td [colSpan]="displayedColumns.length" class="mat-cell">
        <div class="no-data-row-content">
          <mat-icon id="no-data-icon" style="color: dimgrey">cancel</mat-icon>
          <span id="no-data-text">{{this.translationPrefix + '.no-data' | translate}}</span>
        </div>
      </td>
    </tr>
  </ng-container>
</table>
<mat-paginator *ngIf="renderPaginator"
               [pageSizeOptions]="[5, 10, 20, 30, 50, 100]"
               [pageSize]="pageSize || 10"
               showFirstLastButtons>
</mat-paginator>
